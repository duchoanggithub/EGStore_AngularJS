<div class="head-title">
    <h1>Danh sách sản phẩm</h1>
    <button mat-fab color="accent" (click)="OpenDialog()">
        <mat-icon>add</mat-icon>
    </button>
</div>
<div class="mat-elevation-z8 table-container">
    <table mat-table [dataSource]="prods" matSort>

        <!-- STT Column -->
        <ng-container matColumnDef="stt">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column-stt"> STT </th>
            <td mat-cell *matCellDef="let prod, let i = index" class="mat-column-stt"> {{i + 1}} </td>
        </ng-container>

        <!-- Category Name Column -->
        <ng-container matColumnDef="categoryName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column-categoryName"> Loại </th>
            <td mat-cell *matCellDef="let prod" class="mat-column-categoryName"> {{prod.categoryName}} </td>
        </ng-container>

        <!-- Supplier Name Column -->
        <ng-container matColumnDef="supName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column-supName"> Hãng </th>
            <td mat-cell *matCellDef="let prod" class="mat-column-supName"> {{prod.supName}} </td>
        </ng-container>

        <!-- Product Image Column -->
        <ng-container matColumnDef="prodImg">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column-prodImg"> Ảnh </th>
            <td mat-cell *matCellDef="let prod" class="mat-column-prodImg">
                <img [src]="prod.prodImg" alt="Product Image"/>
            </td>
        </ng-container>

        <!-- Product Name Column -->
        <ng-container matColumnDef="prodName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column-prodName"> Tên sản phẩm</th>
            <td mat-cell *matCellDef="let prod" class="mat-column-prodName"> {{prod.prodName}} </td>
        </ng-container>

        <!-- Price Column -->
        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column-price"> Giá </th>
            <td mat-cell *matCellDef="let prod" class="mat-column-price"> {{prod.price | number: '1.0-0'}}đ</td>
        </ng-container>

        <!-- Inventory Column -->
        <ng-container matColumnDef="inventory">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-column-inventory"> Tồn Kho</th>
            <td mat-cell *matCellDef="let prod" class="mat-column-inventory"> {{prod.inventory}} </td>
        </ng-container>

        <!-- Designs Column -->
        <ng-container matColumnDef="designs">
            <th mat-header-cell *matHeaderCellDef class="mat-column-designs"> Kiểu dáng </th>
            <td mat-cell *matCellDef="let prod" class="mat-column-designs"> {{prod.designs}} </td>
        </ng-container>

        <!-- Status Column -->
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef class="mat-column-status"> Trạng thái </th>
            <td mat-cell *matCellDef="let prod" class="mat-column-status">
                {{ prod.status ? 'Còn hàng' : 'Hết hàng' }}
            </td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef class="mat-column-actions"> Chức năng </th>
            <td mat-cell *matCellDef="let prod" class="mat-column-actions">
                <button class="button-icon" mat-icon-button matTooltip="primary" color="primary"
                    [routerLink]="['edit', prod.id]">
                    <mat-icon>edit</mat-icon>
                </button>
                <button class="button-icon" mat-icon-button matTooltip="accent" color="black"
                    [routerLink]="['detail', prod.id]">
                    <mat-icon>info</mat-icon>
                </button>
                <button class="button-icon" mat-icon-button matTooltip="warn" color="warn"
                    (click)="deleteProduct(prod.id)">
                    <mat-icon>delete</mat-icon>
                </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let prod; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of prods"
        [pageSize]="5">
    </mat-paginator>
</div>
